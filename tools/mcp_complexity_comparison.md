# MCP Factory: Complexity Level Comparison

## What Gets Generated by Complexity Level

### 🟢 SIMPLE MCP

**User Experience:**
```
✓ Basic tool definition
✓ Simple parameter types
✗ No dependency prompts
✗ No mock implementation offer
✗ No environment variable setup
```

**Generated Structure:**
```
mcp/typescript/servers/simple-tools/
├── server.ts          # Basic implementation
├── package.json       # Minimal dependencies
├── tsconfig.json      # Standard config
├── README.md          # Simple documentation
└── config.json        # Tool metadata
```

**package.json:**
```json
{
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.0.0",
    "zod": "^3.22.4"
    // No additional deps
  }
}
```

### 🟡 MODERATE MCP

**User Experience:**
```
✓ Complex tool parameters (objects, arrays)
✓ Dependency collection prompt
✓ Mock implementation offer
✓ Environment variable setup
✓ Template selection available
```

**Generated Structure:**
```
mcp/typescript/servers/moderate-tools/
├── server.ts          # Enhanced with complex schemas
├── package.json       # Custom dependencies
├── tsconfig.json      # Includes mocks
├── README.md          # Detailed sections
├── config.json        # Full metadata
└── mocks/             # If use_mock=true
    └── qdrant.ts      # Mock implementations
```

**package.json:**
```json
{
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.0.0",
    "zod": "^3.22.4",
    "@supabase/supabase-js": "^2.39.0",  // Added
    "axios": "^1.6.0"  // From template
  }
}
```

### 🔴 COMPLEX MCP

**User Experience:**
```
✓ All MODERATE features
✓ Multiple template suggestions
✓ Advanced schema builder kicks in
✓ Comprehensive error handling
✓ Full production readiness
```

**Generated Structure:**
```
mcp/typescript/servers/complex-system/
├── server.ts          # Full implementation
├── package.json       # All dependencies
├── tsconfig.json      # Complete config
├── README.md          # Comprehensive docs
├── config.json        # Complete metadata
├── mocks/             # Multiple mocks
│   ├── qdrant.ts
│   ├── database.ts
│   └── api-client.ts
└── types/             # Type definitions
    └── index.d.ts
```

## Code Generation Differences

### SIMPLE: Basic Tool Handler
```typescript
private async sendEmail(args: any) {
    try {
        // TODO: Implement send_email

        return {
            success: true,
            message: 'Successfully executed send_email',
        };
    } catch (error) {
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Unknown error',
        };
    }
}
```

### MODERATE: With Validation
```typescript
private async searchProducts(args: z.infer<typeof SearchProductsSchema>) {
    try {
        // Validate args
        const validated = SearchProductsSchema.parse(args);

        // TODO: Implement search_products

        return {
            success: true,
            message: 'Successfully executed search_products',
        };
    } catch (error) {
        return {
            success: false,
            error: error instanceof Error ? error.message : 'Unknown error',
        };
    }
}
```

### COMPLEX: With Services
```typescript
export class ComplexSystemMCPServer extends BaseMCPServer {
    private supabase: SupabaseClient;
    private qdrant: MockQdrantClient;
    private cache: Map<string, any> = new Map();

    constructor() {
        super('complex-system-mcp-server', '1.0.0');

        // Initialize services
        this.supabase = createClient(
            process.env.SUPABASE_URL!,
            process.env.SUPABASE_KEY!
        );
        this.qdrant = new MockQdrantClient();
    }

    // Multiple helper methods
    // Enhanced error handling
    // Service integration
}
```

## Decision Points Summary

| Feature | SIMPLE | MODERATE | COMPLEX |
|---------|---------|-----------|----------|
| **Tool Count** | 1-5 | 6-10 | 11+ |
| **Complex Types** | ❌ | ✅ | ✅ |
| **Resources** | ❌ | Optional | Expected |
| **Dependencies Prompt** | ❌ | ✅ | ✅ |
| **Mock Support** | ❌ | ✅ | ✅ |
| **Environment Vars** | ❌ | ✅ | ✅ |
| **Templates** | ❌ | ✅ | ✅ (Multiple) |
| **Service Init** | ❌ | Optional | ✅ |
| **README Sections** | Basic | Enhanced | Comprehensive |

## The Smart Default

The factory is **intentionally generous** with complexity detection:
- Having even 1 object/array parameter → MODERATE
- This ensures users get helpful features when they might need them
- Better to have unused features than missing ones
- Complexity can always be manually overridden if needed
